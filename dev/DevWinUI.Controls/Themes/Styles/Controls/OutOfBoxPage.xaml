<?xml version="1.0" encoding="utf-8" ?>
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="using:DevWinUI">

    <Style BasedOn="{StaticResource DefaultOutOfBoxPageStyle}"
           TargetType="local:OutOfBoxPage" />

    <Style x:Key="DefaultOutOfBoxPageStyle"
           TargetType="local:OutOfBoxPage">
        <Setter Property="Template" Value="{StaticResource OutOfBoxLeftHeroImageTemplate}" />
        <Setter Property="UseTopHeroImage" Value="False" />
        <Setter Property="ContentMargin" Value="32,8" />
        <Setter Property="SecondaryLinksMargin" Value="32,0" />
        <Setter Property="PrimaryLinksItemTemplate" Value="{StaticResource OutOfBoxLinksItemTemplate}" />
        <Setter Property="SecondaryLinksItemTemplate" Value="{StaticResource OutOfBoxLinksItemTemplate}" />
        <Setter Property="PrimaryLinkItemsPanelTemplate">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <local:WrapPanel HorizontalSpacing="10" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="SecondaryLinkItemsPanelTemplate">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <local:WrapPanel HorizontalSpacing="10" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <ControlTemplate x:Key="OutOfBoxLeftHeroImageTemplate"
                     TargetType="local:OutOfBoxPage">
        <Grid Padding="{TemplateBinding Padding}"
              HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
              VerticalAlignment="{TemplateBinding VerticalAlignment}"
              Background="{TemplateBinding Background}"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}"
              CornerRadius="{TemplateBinding CornerRadius}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <VisualStateManager.VisualStateGroups>
                <VisualStateGroup>
                    <VisualState x:Name="WideState">
                        <VisualState.StateTriggers>
                            <AdaptiveTrigger MinWindowWidth="480" />
                        </VisualState.StateTriggers>
                    </VisualState>
                    <VisualState x:Name="NarrowState">
                        <VisualState.StateTriggers>
                            <AdaptiveTrigger MinWindowWidth="0" />
                        </VisualState.StateTriggers>
                        <VisualState.Setters>
                            <Setter Target="DescriptionPanel.(Grid.Row)" Value="1" />
                            <Setter Target="DescriptionPanel.(Grid.Column)" Value="0" />
                            <Setter Target="DescriptionPanel.(Grid.ColumnSpan)" Value="3" />
                            <Setter Target="DescriptionPanel.Margin" Value="32,0" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>

            <ContentPresenter Grid.Row="0"
                              Grid.Column="0"
                              ContentTemplate="{TemplateBinding TitleTemplate}">
                <ContentPresenter.Content>
                    <TextBlock Margin="32,24,32,0"
                               AutomationProperties.HeadingLevel="Level1"
                               Style="{StaticResource TitleTextBlockStyle}"
                               Text="{TemplateBinding Title}" />
                </ContentPresenter.Content>
            </ContentPresenter>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto">
                <Grid Padding="0,0,20,24"
                      ChildrenTransitions="{StaticResource SettingsCardsAnimations}"
                      RowSpacing="12">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0"
                          VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <ContentPresenter Grid.Column="2"
                                          VerticalAlignment="Top"
                                          Content="{TemplateBinding ActionContent}" />

                        <ContentPresenter Grid.Column="0"
                                          ContentTemplate="{TemplateBinding HeroImageTemplate}">
                            <ContentPresenter.Content>
                                <Border MaxWidth="160"
                                        Margin="32,24,16,24"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        CornerRadius="4">
                                    <Image AutomationProperties.AccessibilityView="Raw">
                                        <Image.Source>
                                            <BitmapImage UriSource="{Binding HeroImage, RelativeSource={RelativeSource Mode=TemplatedParent}}" />
                                        </Image.Source>
                                    </Image>
                                </Border>
                            </ContentPresenter.Content>
                        </ContentPresenter>

                        <StackPanel x:Name="DescriptionPanel"
                                    Grid.Row="0"
                                    Grid.Column="1"
                                    Spacing="12">
                            <ContentPresenter ContentTemplate="{TemplateBinding DescriptionTemplate}">
                                <ContentPresenter.Content>
                                    <TextBlock Margin="0,24,0,0"
                                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                               Text="{TemplateBinding Description}"
                                               TextWrapping="Wrap" />
                                </ContentPresenter.Content>
                            </ContentPresenter>

                            <ItemsControl Grid.Row="1"
                                          Grid.Column="1"
                                          VerticalAlignment="Top"
                                          IsTabStop="False"
                                          ItemTemplate="{TemplateBinding PrimaryLinksItemTemplate}"
                                          ItemsPanel="{TemplateBinding PrimaryLinkItemsPanelTemplate}"
                                          ItemsSource="{TemplateBinding PrimaryLinks}" />
                        </StackPanel>
                    </Grid>

                    <ContentPresenter Grid.Row="1"
                                      Margin="{TemplateBinding ContentMargin}"
                                      HorizontalAlignment="Stretch"
                                      VerticalAlignment="Stretch"
                                      HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      Content="{TemplateBinding Content}" />

                    <StackPanel Grid.Row="2"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch">
                        <ContentPresenter ContentTemplate="{TemplateBinding SecondaryLinksHeaderTemplate}">
                            <ContentPresenter.Content>
                                <TextBlock Margin="34,0,34,0"
                                           AutomationProperties.HeadingLevel="Level2"
                                           Style="{ThemeResource BodyStrongTextBlockStyle}"
                                           Text="{TemplateBinding SecondaryLinksHeader}" />
                            </ContentPresenter.Content>
                        </ContentPresenter>

                        <ItemsControl Margin="{TemplateBinding SecondaryLinksMargin}"
                                      IsTabStop="False"
                                      ItemTemplate="{TemplateBinding SecondaryLinksItemTemplate}"
                                      ItemsPanel="{TemplateBinding SecondaryLinkItemsPanelTemplate}"
                                      ItemsSource="{TemplateBinding SecondaryLinks}" />
                    </StackPanel>
                </Grid>

            </ScrollViewer>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="OutOfBoxTopHeroImageTemplate"
                     TargetType="local:OutOfBoxPage">
        <Grid Padding="{TemplateBinding Padding}"
              HorizontalAlignment="{TemplateBinding HorizontalAlignment}"
              VerticalAlignment="{TemplateBinding VerticalAlignment}"
              Background="{TemplateBinding Background}"
              BorderBrush="{TemplateBinding BorderBrush}"
              BorderThickness="{TemplateBinding BorderThickness}"
              CornerRadius="{TemplateBinding CornerRadius}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <ContentPresenter Height="{TemplateBinding HeroImageHeight}"
                              ContentTemplate="{TemplateBinding HeroImageTemplate}">
                <ContentPresenter.Content>
                    <Image HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Source="{Binding HeroImage, RelativeSource={RelativeSource Mode=TemplatedParent}}"
                           Stretch="UniformToFill" />
                </ContentPresenter.Content>
            </ContentPresenter>
            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto">
                <Grid Padding="0,0,20,24"
                      ChildrenTransitions="{StaticResource SettingsCardsAnimations}"
                      RowSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <ContentPresenter Grid.Row="0"
                                      Grid.Column="1"
                                      VerticalAlignment="Top"
                                      Content="{TemplateBinding ActionContent}" />
                    <ContentPresenter Grid.Row="0"
                                      Grid.Column="0"
                                      ContentTemplate="{TemplateBinding TitleTemplate}">
                        <ContentPresenter.Content>
                            <TextBlock Margin="32,24,32,0"
                                       AutomationProperties.HeadingLevel="Level1"
                                       Style="{StaticResource TitleTextBlockStyle}"
                                       Text="{TemplateBinding Title}" />
                        </ContentPresenter.Content>
                    </ContentPresenter>
                    <StackPanel Grid.Row="1"
                                Grid.ColumnSpan="2"
                                Spacing="5">
                        <ContentPresenter ContentTemplate="{TemplateBinding DescriptionTemplate}">
                            <ContentPresenter.Content>
                                <TextBlock Margin="32,0"
                                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                           Text="{TemplateBinding Description}"
                                           TextWrapping="Wrap" />
                            </ContentPresenter.Content>
                        </ContentPresenter>
                        <ItemsControl Margin="32,0"
                                      IsTabStop="False"
                                      ItemTemplate="{TemplateBinding PrimaryLinksItemTemplate}"
                                      ItemsPanel="{TemplateBinding PrimaryLinkItemsPanelTemplate}"
                                      ItemsSource="{TemplateBinding PrimaryLinks}" />
                    </StackPanel>
                    <ContentPresenter Grid.Row="2"
                                      Grid.ColumnSpan="2"
                                      Margin="{TemplateBinding ContentMargin}"
                                      HorizontalAlignment="Stretch"
                                      VerticalAlignment="Stretch"
                                      HorizontalContentAlignment="Stretch"
                                      VerticalContentAlignment="Stretch"
                                      Content="{TemplateBinding Content}" />
                    <StackPanel Grid.Row="3"
                                Grid.ColumnSpan="2">
                        <ContentPresenter ContentTemplate="{TemplateBinding SecondaryLinksHeaderTemplate}">
                            <ContentPresenter.Content>
                                <TextBlock Margin="34,0,34,0"
                                           AutomationProperties.HeadingLevel="Level2"
                                           Style="{ThemeResource BodyStrongTextBlockStyle}"
                                           Text="{TemplateBinding SecondaryLinksHeader}" />
                            </ContentPresenter.Content>
                        </ContentPresenter>
                        <ItemsControl Margin="{TemplateBinding SecondaryLinksMargin}"
                                      IsTabStop="False"
                                      ItemTemplate="{TemplateBinding SecondaryLinksItemTemplate}"
                                      ItemsPanel="{TemplateBinding SecondaryLinkItemsPanelTemplate}"
                                      ItemsSource="{TemplateBinding SecondaryLinks}" />
                    </StackPanel>
                </Grid>
            </ScrollViewer>
        </Grid>
    </ControlTemplate>

</ResourceDictionary>
